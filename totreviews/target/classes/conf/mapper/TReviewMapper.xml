<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="totreviews.mapper.TReviewMapper">

  	<insert id="insertTReview" parameterType="TReviewVO" useGeneratedKeys="true" keyProperty="trevid">
        <selectKey keyProperty="trevid" resultType="int" order="BEFORE">
            SELECT seq_trevid.nextval FROM dual
        </selectKey>
        INSERT INTO TREVIEW (TREVID, TRIPID, MEMID, TREVSTATUS, TREVTITLE, TREVCOURSE, TREVCONTENT, TREVRATING, TREVREGDATE, TREVUPDATE, TREVCOUNT)
        VALUES (#{trevid}, #{tripid}, #{memid}, #{trevstatus}, #{trevtitle}, #{trevcourse}, #{trevcontent}, 
        #{trevrating}, #{trevregdate}, #{trevupdate}, #{trevcount})
    </insert>
    
    <insert id="insertTReviewImage" parameterType="TReviewImageVO">
        INSERT INTO TREVIEWIMAGE (TREVIMGID, TREVID, MEMID, TREVIMGPATH, TREVIMGREGDATE, TREVIMGUPDATE)
        VALUES (seq_trevimgid.nextval, #{trevid}, #{memid}, #{trevimgpath}, #{trevimgregdate}, #{trevimgupdate})
    </insert>

</mapper>
